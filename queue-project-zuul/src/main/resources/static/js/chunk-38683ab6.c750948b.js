(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38683ab6"],{"70a6":function(s,t,e){"use strict";var a=e("a12b"),n=e.n(a);n.a},a12b:function(s,t,e){},ae1c:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"QManage"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:s.load,expression:"load"}],staticStyle:{width:"56.1%"},attrs:{data:s.tabledata,stripe:"",border:""}},[e("el-table-column",{attrs:{prop:"queueNo",label:"队列号",width:"120"}}),e("el-table-column",{attrs:{prop:"windowNo",label:"窗口号",width:"120"}}),e("el-table-column",{attrs:{prop:"staffName",label:"办理员工",width:"120"}}),e("el-table-column",{attrs:{prop:"businessName",label:"办理业务",width:"120"}}),e("el-table-column",{attrs:{prop:"handler",label:"预约时间",width:"120"}}),e("el-table-column",{attrs:{prop:"transactName",label:"办理状态",width:"120"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:s._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return s.repeal(t.row)}}},[s._v("办理")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return s.guohao(t.row)}}},[s._v("过号")])]}}])})],1)],1)},n=[],i={name:"queueTable",data:function(){return{tabledata:[],load:!0,hasChooseBusiness:!0,hasgetwindows:!1,businesses:[],windows:[],status:[{label:"未办理",value:0},{label:"已办理",value:1},{label:"已过号",value:2}],business:"",window:"",appointed:""}},watch:{business:function(){var s=this;this.window="",this.hasgetwindows=!0,this.axios.getWindows({businessId:this.business}).then(function(t){t.success&&(s.windows=t.dataList,s.hasChooseBusiness=!1,s.hasgetwindows=!1)})}},mounted:function(){this.init()},methods:{init:function(){var s=this;this.axios.getBusiness({}).then(function(t){t.success&&(s.businesses=t.dataList)}),this.axios.getQueue({staffNo:sessionStorage.getItem("userNo"),transact:1}).then(function(t){t.success&&(s.load=!1,s.tabledata=t.dataList)})},is:function(s){return 0!=s.transact},repeal:function(s){var t=this;this.axios.dealWork({id:s.id,windowId:s.windowId,businessId:s.businessId}).then(function(s){s.success&&(t.$message.success("办理完毕"),t.init())})},query:function(){var s=this;this.load=!0;var t={businessId:this.business,windowId:this.window,transact:this.appointed};this.axios.getQueue(t).then(function(t){t.success?(s.load=!1,s.tabledata=t.dataList):s.$message.error("查询失败")})},guohao:function(s){var t=this;this.axios.overQueue({id:s.id,windowId:s.windowId,businessId:s.businessId}).then(function(s){s.success&&(t.$message.success("过号完毕"),t.init())})}}},o=i,u=(e("70a6"),e("2877")),l=Object(u["a"])(o,a,n,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-38683ab6.c750948b.js.map