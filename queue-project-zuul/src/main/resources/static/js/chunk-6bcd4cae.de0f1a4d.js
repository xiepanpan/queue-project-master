(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bcd4cae"],{"0ccc":function(s,e,t){"use strict";var i=t("d826"),o=t.n(i);o.a},9834:function(s,e,t){"use strict";t.r(e);var i=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{attrs:{id:"windows"}},[t("el-button",{staticClass:"add",attrs:{type:"success",size:"small"},on:{click:s.add}},[s._v("添加窗口")]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:s.loading,expression:"loading"}],staticStyle:{width:"70.1%"},attrs:{data:s.data,border:""}},[t("el-table-column",{attrs:{prop:"windowNo",label:"窗口号",width:"180"}}),t("el-table-column",{attrs:{prop:"staffName",label:"工作人员姓名",width:"180"}}),t("el-table-column",{attrs:{prop:"statusName",label:"窗口状态",width:"180"}}),t("el-table-column",{attrs:{prop:"windowStatusName",label:"窗口当前工作状态",width:"180"}}),t("el-table-column",{attrs:{prop:"businessNowNum",label:"已完成业务量",width:"180"}}),t("el-table-column",{attrs:{prop:"businessNum",label:"最大办理业务量",width:"180"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:s._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return s.modifyMes(e.row)}}},[s._v("修改")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return s.deleteWindows(e.row)}}},[s._v("删除")])]}}])})],1),t("el-dialog",{attrs:{visible:s.modify,title:s.dialogname,"append-to-body":"",width:"40%"},on:{"update:visible":function(e){s.modify=e}}},[t("el-form",{ref:"windowsMes",attrs:{model:s.windowsMes,"label-width":"20%",rules:s.rule}},[t("el-form-item",{attrs:{label:"窗口号",prop:"windowNo"}},[t("el-input",{model:{value:s.windowsMes.windowNo,callback:function(e){s.$set(s.windowsMes,"windowNo",e)},expression:"windowsMes.windowNo"}})],1),t("el-form-item",{attrs:{label:"工作人员姓名",prop:"staffName"}},[t("el-select",{staticStyle:{position:"absolute",left:"97px"},attrs:{placeholder:"安排工作人员"},model:{value:s.windowsMes.staffId,callback:function(e){s.$set(s.windowsMes,"staffId",e)},expression:"windowsMes.staffId"}},s._l(s.worker,function(s){return t("el-option",{key:s.value,attrs:{label:s.label,value:s.value}})}),1)],1),t("el-form-item",{attrs:{label:"业务类型",prop:"businessId"}},[t("el-select",{staticStyle:{position:"absolute",left:"97px"},attrs:{placeholder:"请选择业务类型"},model:{value:s.windowsMes.businessId,callback:function(e){s.$set(s.windowsMes,"businessId",e)},expression:"windowsMes.businessId"}},s._l(s.business,function(s){return t("el-option",{key:s.id,attrs:{value:s.id,label:s.businessName}})}),1)],1),0==s.type?t("el-form-item",{attrs:{label:"已完成业务量",prop:"businessNowNum"}},[t("el-input",{attrs:{disabled:""},model:{value:s.windowsMes.businessNowNum,callback:function(e){s.$set(s.windowsMes,"businessNowNum",e)},expression:"windowsMes.businessNowNum"}})],1):s._e(),t("el-form-item",{attrs:{label:"最大办理业务量",prop:"businessNum"}},[t("el-input",{model:{value:s.windowsMes.businessNum,callback:function(e){s.$set(s.windowsMes,"businessNum",s._n(e))},expression:"windowsMes.businessNum"}})],1),t("el-form-item",{attrs:{label:"窗口状态",prop:"status",id:"switch"}},[t("el-switch",{staticStyle:{position:"absolute",top:"10px",left:"97px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"打开","inactive-text":"关闭"},model:{value:s.windowsMes.status,callback:function(e){s.$set(s.windowsMes,"status",e)},expression:"windowsMes.status"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){s.modify=!1}}},[s._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:s.commit}},[s._v("确认")])],1)],1)],1)},o=[],n={data:function(){return{modify:!1,dialogname:"修改窗口信息",type:"0",data:[],loading:!0,worker:[],business:[],windowsMes:{businessNo:"",staffName:"",statusName:"",businessNowNum:"",businessNum:"",businessId:"",staffId:""},rule:{windowNo:[{required:!0}],staffId:[{required:!0,message:""}],status:[{required:!0}],businessNum:[{required:!0,type:"number"}],businessId:[{required:!0}]}}},mounted:function(){this.init()},methods:{init:function(){var s=this;this.axios.getWindows({}).then(function(e){e.success?(s.loading=!1,s.data=e.dataList):s.$message.error("查询失败,请检查网络设置")}),this.axios.getWorkList({}).then(function(e){if(e.success)for(var t in s.worker=[],e.dataList){var i={};for(var o in e.dataList[t])"id"==o&&(i.value=e.dataList[t].id),"staffName"==o&&(i.label=e.dataList[t].staffName);s.worker.push(i)}else s.$message.error("获取工作人员列表错误")}),this.axios.getBusiness({}).then(function(e){e.success&&(s.business=e.dataList)})},commit:function(){var s=this;this.$refs["windowsMes"].validate(function(e){e?("0"==s.type&&(1==s.windowsMes.status?(s.windowsMes.status=1,s.windowsMes.statusName="开放"):(s.windowsMes.status=0,s.windowsMes.statusName="关闭"),s.axios.modifyWindows(s.windowsMes).then(function(e){e.success?(s.modify=!1,s.init()):s.$message.error("修改窗口信息失败")})),"1"==s.type&&s.axios.addWindows(s.windowsMes).then(function(e){e.success&&(s.modify=!1,s.$refs["windowsMes"].resetFields(),s.$message.success("添加窗口成功"),s.init())})):s.$message.error("表单有误")})},add:function(){this.dialogname="添加窗口信息",this.modify=!0,this.type="1",this.windowsMes={}},modifyMes:function(s){var e=this;this.modify=!0,this.type="0",this.dialogname="修改窗口信息",this.axios.getWindows({id:s.id}).then(function(s){e.windowsMes=s.dataList[0],1==e.windowsMes.status&&(e.windowsMes.status=!0),0==e.windowsMes.status&&(e.windowsMes.status=!1)})},deleteWindows:function(s){var e=this;this.axios.deleteWindows({id:s.id}).then(function(s){s.success&&(e.$message.success("删除成功"),e.init())})}}},a=n,l=(t("0ccc"),t("2877")),d=Object(l["a"])(a,i,o,!1,null,null,null);e["default"]=d.exports},d826:function(s,e,t){}}]);
//# sourceMappingURL=chunk-6bcd4cae.de0f1a4d.js.map