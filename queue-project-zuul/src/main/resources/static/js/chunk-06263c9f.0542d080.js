(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06263c9f"],{"2c80":function(e,s,t){},"964b":function(e,s,t){"use strict";var a=t("2c80"),i=t.n(a);i.a},be38:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"cailiao"}},[t("el-button",{staticClass:"add",attrs:{type:"success",size:"small"},on:{click:e.add}},[e._v("添加材料")]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.load,expression:"load"}],staticStyle:{width:"52.1%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[t("el-table-column",{attrs:{prop:"businessName",label:"业务类型",width:"180"}}),t("el-table-column",{attrs:{prop:"materialsNo",label:"材料编号",width:"180"}}),t("el-table-column",{attrs:{prop:"materialsName",label:"材料名称",width:"180"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.modifyMes(s.row)}}},[e._v("修改")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteMa(s.row)}}},[e._v("删除")])]}}])})],1),t("el-dialog",{attrs:{visible:e.modify,title:e.dialogname,"append-to-body":"",width:"40%"},on:{"update:visible":function(s){e.modify=s}}},[t("el-form",{ref:"windowsMes",attrs:{model:e.windowsMes,"label-width":"20%",rules:e.rule}},[t("el-form-item",{attrs:{label:"业务类型",prop:"businessId"}},[t("el-select",{staticStyle:{position:"absolute",left:"97px"},attrs:{placeholder:"选择业务类型"},model:{value:e.windowsMes.businessId,callback:function(s){e.$set(e.windowsMes,"businessId",s)},expression:"windowsMes.businessId"}},e._l(e.business,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),t("el-form-item",{attrs:{label:"材料编号",prop:"materialsNo"}},[t("el-input",{model:{value:e.windowsMes.materialsNo,callback:function(s){e.$set(e.windowsMes,"materialsNo",s)},expression:"windowsMes.materialsNo"}})],1),t("el-form-item",{attrs:{label:"材料名称",prop:"materialsName"}},[t("el-input",{model:{value:e.windowsMes.materialsName,callback:function(s){e.$set(e.windowsMes,"materialsName",s)},expression:"windowsMes.materialsName"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(s){e.modify=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.commit}},[e._v("确认")])],1)],1)],1)},i=[],o={data:function(){return{tableData:[],modify:!1,business:[],type:"0",load:!0,dialogname:"修改材料信息",windowsMes:{businessId:"",materialsNo:"",materialsName:""},rule:{businessName:[{required:!0}],materialsNo:[{required:!0}],materialsName:[{required:!0}]}}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.axios.getmaterials({}).then(function(s){e.load=!1,e.tableData=s.dataList}),this.business=[],this.axios.getBusiness({}).then(function(s){for(var t in s.dataList){var a={};for(var i in s.dataList[t])"businessName"==i?a.label=s.dataList[t].businessName:a.value=s.dataList[t].id;e.business.push(a)}})},add:function(){this.dialogname="添加材料信息",this.modify=!0,this.type="1",this.windowsMes={}},deleteMa:function(e){var s=this;this.axios.deletematerials({id:e.id}).then(function(e){e.success?(s.$message.success(e.message),s.modify=!1,s.init()):s.$message.error(e.message)})},modifyMes:function(e){var s=this;this.modify=!0,this.type="0",this.dialogname="修改材料信息",this.axios.getmaterials({id:e.id}).then(function(e){s.windowsMes=e.dataList[0]})},commit:function(){var e=this;this.$refs["windowsMes"].validate(function(s){s?0==e.type?e.axios.modifymaterials(e.windowsMes).then(function(s){s.success?(e.init(),e.modify=!1):e.$message.error(s.message)}):e.axios.addmaterials(e.windowsMes).then(function(s){s.success?(e.init(),e.modify=!1):e.$message.error(s.message)}):e.$message.error("表单有误")})},tableRowClassName:function(e){e.row;var s=e.rowIndex;return 1===s?"warning-row":3===s?"success-row":""}}},n=o,l=(t("964b"),t("2877")),r=Object(l["a"])(n,a,i,!1,null,null,null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-06263c9f.0542d080.js.map